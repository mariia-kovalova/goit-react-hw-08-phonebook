"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[579],{7032:function(e,n,t){t.d(n,{W:function(){return f}});var r=t(1413),a=t(9439);function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}var s=t(8096),o=t(4925),c=t(635),d=t(3466),l=t(3400),u=t(7071),p=t(2791),x=t(3710),m=t(9569),h=t(3329),f=function(e){var n=e.inputName,t=e.type,f=e.id,Z=e.register,j=e.isError,g=e.getErrorMassage,b=(0,p.useState)(!1),y=(0,a.Z)(b,2),v=y[0],C=y[1];return(0,h.jsxs)(s.Z,{error:j(n),children:[(0,h.jsx)(o.Z,{htmlFor:f,children:i(n)}),"password"!==t?(0,h.jsx)(c.Z,(0,r.Z)({id:f,type:t,label:i(n),"aria-describedby":f},Z(n))):(0,h.jsx)(c.Z,(0,r.Z)((0,r.Z)({id:f,type:v?"text":"password",label:i(n),"aria-describedby":f},Z(n)),{},{endAdornment:(0,h.jsx)(d.Z,{position:"end",children:(0,h.jsx)(l.Z,{"aria-label":"toggle password visibility",onClick:function(){C(!v)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:v?(0,h.jsx)(x.Z,{}):(0,h.jsx)(m.Z,{})})})})),j(n)&&(0,h.jsx)(u.Z,{id:f,children:g(n)})]})}},6953:function(e,n,t){t.d(n,{$:function(){return c}});var r=t(8870),a=t(1614),i=t(890),s={section:{paddingTop:"20px",paddingBottom:"20px"},title:{textAlign:"center"}},o=t(3329),c=function(e){var n=e.title,t=e.children;return(0,o.jsx)(r.Z,{component:"section",sx:s.section,children:(0,o.jsxs)(a.Z,{children:[n&&(0,o.jsx)(i.Z,{component:"h2",variant:"h2",sx:s.title,children:n}),t]})})}},4322:function(e,n,t){t.d(n,{O:function(){return i}});var r=t(4942),a=t(1413),i=function(e){return e.reduce((function(e,n){return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},n.inputName,""))}),{})}},9579:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var r=t(9439),a=t(2791),i=t(6953),s=t(3634),o=t(9434),c=t(2776),d=t(3431),l=t(8870),u=t(3044),p=t(890),x=t(3400),m=t(1286),h=t(7247),f=t(4677),Z={wrap:{display:"inline-flex",bgcolor:"common.white",padding:"20px",borderRadius:"3px",position:"absolute",top:{xs:"35%",sm:"50%"},left:"50%",transform:"translate(-50%, -50%)"}},j=t(3329),g=function(e){var n=e.children,t=e.onModalClose;return(0,j.jsx)(f.Z,{open:!0,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsx)(l.Z,{sx:Z.wrap,children:n})})},b=t(1413),y=t(9195),v=t(4695),C=t(6727),w=new RegExp("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"),M=C.Ry().shape({name:C.Z_().matches(w,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required(),number:C.Z_().matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),A=t(6151),z=t(7032),k=t(5984),S=[{inputName:"name",type:"text",id:(0,k.x0)()},{inputName:"number",type:"tel",id:(0,k.x0)()}],I={form:{display:"flex",flexDirection:"column",gap:"20px",width:{xs:"330px",sm:"400px"},margin:"0 auto"},btnList:{display:"flex",justifyContent:"center",gap:"20px"}},N=function(e){var n=e.id,t=e.onModalClose,r=(0,c.g)().contacts,a=r.find((function(e){return e.id===n})),i=a.name,d=a.number,u=(0,y.cI)({resolver:(0,v.X)(M),defaultValues:{name:i,number:d}}),p=u.register,x=u.formState.errors,m=u.handleSubmit,h=u.reset,f=(0,o.I0)(),Z=function(e){return!!x[e]},g=function(e){return x[e].message};return(0,j.jsxs)(l.Z,{component:"form",sx:I.form,onSubmit:m((function(e){if(r.find((function(n){return n.name===e.name})))return alert("".concat(e.name," is aready in contacts."));f((0,s.Tk)((0,b.Z)({id:n},e))),h(),t()})),children:[S.map((function(e){var n=e.inputName,t=e.type,r=e.id;return(0,j.jsx)(z.W,{inputName:n,type:t,id:r,register:p,isError:Z,getErrorMassage:g},r)})),(0,j.jsxs)(l.Z,{sx:I.btnList,children:[(0,j.jsx)(A.Z,{type:"submit",variant:"contained",children:"Update Contact"}),(0,j.jsx)(A.Z,{type:"button",variant:"outlined",onClick:function(){return t()},children:"Cancel"})]})]})},_={item:{padding:"10px",bgcolor:"primary.50",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"space-between"},itemContentWrap:{display:"flex",gap:"10px",alignItems:"center"},btnList:{display:"flex",gap:"5px",alignItems:"center"}},E=(0,a.memo)((function(e){var n=e.contact,t=(0,a.useState)(!1),i=(0,r.Z)(t,2),c=i[0],d=i[1],f=n.id,Z=n.name,b=n.number,y=n.avatar,v=(0,o.I0)(),C=function(){return d(!c)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(l.Z,{component:"li",sx:_.item,children:[(0,j.jsxs)(l.Z,{sx:_.itemContentWrap,children:[(0,j.jsx)(u.Z,{alt:y.alt,src:y.src}),(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(p.Z,{children:Z}),(0,j.jsx)(p.Z,{children:b})]})]}),(0,j.jsxs)(l.Z,{component:"ul",sx:_.btnList,children:[(0,j.jsx)(x.Z,{"aria-label":"update",onClick:C,children:(0,j.jsx)(m.Z,{})}),(0,j.jsx)(x.Z,{"aria-label":"delete",onClick:function(){return v((0,s.GK)(f))},children:(0,j.jsx)(h.Z,{})})]})]}),c&&(0,j.jsx)(g,{onModalClose:C,children:(0,j.jsx)(N,{id:f,onModalClose:C})})]})})),F=t(350),L={textAlign:"center",padding:"30px"},$=function(e){var n=e.children,t=e.color,r=void 0===t?"common.black":t;return(0,j.jsx)(p.Z,{component:"p",sx:(0,b.Z)((0,b.Z)({},L),{},{color:r}),children:n})},D=t(493),R={list:{display:"flex",flexDirection:"column",gap:"10px"}},V=function(){var e=(0,c.g)(),n=e.isLoading,t=e.error,r=e.contacts,i=(0,o.v9)(d.A),l=(0,o.I0)();(0,a.useEffect)((function(){l((0,s.yF)())}),[l]);var u=!n&&!t,p=!n&&t,x=u&&""===i&&0===r.length,m=u&&""!==i&&0===r.length,h=!t&&0!==r.length;return(0,j.jsxs)(j.Fragment,{children:[n&&(0,j.jsx)(F.a,{}),h&&(0,j.jsx)(D.Z,{sx:R.list,children:r.map((function(e){return(0,j.jsx)(E,{contact:e},e.id)}))}),p&&(0,j.jsx)($,{children:"Sorry, something went wrong"}),x&&(0,j.jsx)($,{children:"Your contacts list is empty"}),m&&(0,j.jsx)($,{children:"Sorry, there is no such contacts"})]})},H=t(1273),W=t(8096),q=t(4925),O=t(635),T={wrap:{display:"flex",justifyContent:"center",alignItems:"center"}},B=(0,k.x0)(),P=function(){var e=(0,o.I0)();return(0,j.jsx)(l.Z,{sx:T.wrap,children:(0,j.jsxs)(W.Z,{sx:{width:"350px"},children:[(0,j.jsx)(q.Z,{htmlFor:B,children:"Search"}),(0,j.jsx)(O.Z,{id:B,type:"text",label:"Search",onChange:function(n){return e((0,H.T)(n.currentTarget.value.trim()))}})]})})},J=t(7750),K={btn:{display:"flex",justifyContent:"center",alignItems:"center",padding:"14px",bgcolor:"primary.400",color:"common.white",position:"fixed",top:"87%",left:{xs:"80%",sm:"90%"},"&:hover":{bgcolor:"primary.300"}}},U=function(e){var n=e.onOpenModal;return(0,j.jsx)(x.Z,{variant:"contained",sx:K.btn,type:"button",onClick:n,children:(0,j.jsx)(J.Z,{})})},X=new RegExp("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"),G=C.Ry().shape({name:C.Z_().matches(X,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required(),number:C.Z_().matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),Y=t(4322),Q=[{inputName:"name",type:"text",id:(0,k.x0)()},{inputName:"number",type:"tel",id:(0,k.x0)()}],ee=(0,Y.O)(Q),ne=function(e){var n=e.onModalClose,t=(0,y.cI)({resolver:(0,v.X)(G),defaultValues:ee}),r=t.register,a=t.formState.errors,i=t.handleSubmit,d=t.reset,u=(0,c.g)().contacts,p=(0,o.I0)(),x=function(e){return!!a[e]},m=function(e){return a[e].message};return(0,j.jsxs)(l.Z,{component:"form",sx:{display:"flex",flexDirection:"column",gap:"20px",width:{xs:"330px",sm:"400px"},margin:"0 auto"},onSubmit:i((function(e){if(u.find((function(n){return n.name===e.name})))return alert("".concat(e.name," is aready in contacts."));p((0,s.uK)(e)),d(),n()})),children:[Q.map((function(e){var n=e.inputName,t=e.type,a=e.id;return(0,j.jsx)(z.W,{inputName:n,type:t,id:a,register:r,isError:x,getErrorMassage:m},a)})),(0,j.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"center",gap:"20px"},children:[(0,j.jsx)(A.Z,{type:"submit",variant:"contained",children:"Add Contact"}),(0,j.jsx)(A.Z,{type:"button",variant:"outlined",onClick:function(){return n()},children:"Cancel"})]})]})},te=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],s=n[1],o=function(){return s(!t)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.$,{children:(0,j.jsx)(P,{})}),(0,j.jsxs)(i.$,{children:[(0,j.jsx)(V,{}),(0,j.jsx)(U,{onOpenModal:o})]}),t&&(0,j.jsx)(g,{onModalClose:o,children:(0,j.jsx)(ne,{onModalClose:o})})]})}},7247:function(e,n,t){var r=t(4836);n.Z=void 0;var a=r(t(5649)),i=t(3329),s=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=s},1286:function(e,n,t){var r=t(4836);n.Z=void 0;var a=r(t(5649)),i=t(3329),s=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=s},7750:function(e,n,t){var r=t(4836);n.Z=void 0;var a=r(t(5649)),i=t(3329),s=(0,a.default)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");n.Z=s}}]);
//# sourceMappingURL=579.5c4570f6.chunk.js.map
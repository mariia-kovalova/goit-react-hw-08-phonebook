"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[952],{7503:function(e,n,t){t.d(n,{W:function(){return g}});var r=t(1413),i=t(9439);function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}var a=t(8096),o=t(4925),c=t(635),l=t(3466),d=t(3400),u=t(7071),p=t(890),x=t(2791),m=t(3710),h=t(9569),f=t(5970),j={error:{color:"error.main",fontSize:"12px"}},Z=t(3329),g=function(e){var n=e.inputName,t=e.type,g=e.id,y=e.register,b=e.errors,v=(0,x.useState)(!1),C=(0,i.Z)(v,2),w=C[0],S=C[1];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(a.Z,{error:function(e){return!!b[e]}(n),children:[(0,Z.jsx)(o.Z,{htmlFor:g,children:s(n)}),"password"!==t?(0,Z.jsx)(c.Z,(0,r.Z)({id:g,type:t,label:s(n),"aria-describedby":g},y(n,{required:"This field is required."}))):(0,Z.jsx)(c.Z,(0,r.Z)((0,r.Z)({id:g,type:w?"text":"password",label:s(n),"aria-describedby":g},y(n,{required:"This field is required."})),{},{endAdornment:(0,Z.jsx)(l.Z,{position:"end",children:(0,Z.jsx)(d.Z,{"aria-label":"toggle password visibility",onClick:function(){S(!w)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:w?(0,Z.jsx)(m.Z,{}):(0,Z.jsx)(h.Z,{})})})})),(0,Z.jsx)(u.Z,{component:f.B,id:g,errors:b,name:n,render:function(e){var n=e.message;return(0,Z.jsx)(p.Z,{sx:j.error,children:n})}})]})})}},6953:function(e,n,t){t.d(n,{$:function(){return c}});var r=t(8870),i=t(1614),s=t(890),a={section:{paddingTop:"20px",paddingBottom:"20px"},title:{textAlign:"center"}},o=t(3329),c=function(e){var n=e.title,t=e.children;return(0,o.jsx)(r.Z,{component:"section",sx:a.section,children:(0,o.jsxs)(i.Z,{children:[n&&(0,o.jsx)(s.Z,{component:"h2",variant:"h2",sx:a.title,children:n}),t]})})}},4322:function(e,n,t){t.d(n,{O:function(){return s}});var r=t(4942),i=t(1413),s=function(e){return e.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n.inputName,""))}),{})}},2952:function(e,n,t){t.r(n),t.d(n,{default:function(){return le}});var r=t(9439),i=t(2791),s=t(6953),a=t(3634),o=t(9434),c=t(2776),l=t(3431),d=t(8870),u=t(3044),p=t(890),x=t(6520),m=t(3400),h=t(1286),f=t(7247),j=t(717),Z={wrap:{display:"inline-flex",bgcolor:"common.white",padding:"20px",borderRadius:"3px",position:"absolute",top:{xs:"35%",sm:"50%"},left:"50%",transform:"translate(-50%, -50%)"}},g=t(3329),y=function(e){var n=e.children,t=e.onModalClose;return(0,g.jsx)(j.Z,{open:!0,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,g.jsx)(d.Z,{sx:Z.wrap,children:n})})},b=t(1413),v=t(9195),C=t(4695),w=t(6727),S=new RegExp("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"),A=w.Ry().shape({name:w.Z_().required("This field is required").matches(S,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:w.Z_().required("This field is required").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +")}),k=t(6151),q=t(3543),I=t(9658),M=t(4164),N=document.querySelector("#pop-up-root"),_=function(e){var n=e.onClose,t=e.severity,r=e.variant,i=e.children;return(0,M.createPortal)((0,g.jsx)(q.Z,{open:!0,autoHideDuration:4e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(I.Z,{onClose:n,severity:t,variant:r,children:i})}),N)},F=t(7503),T=t(5984),z=[{inputName:"name",type:"text",id:(0,T.x0)()},{inputName:"number",type:"tel",id:(0,T.x0)()}],D={form:{display:"flex",flexDirection:"column",gap:"20px",width:{xs:"330px",sm:"400px"},margin:"0 auto"},btnList:{display:"flex",justifyContent:"center",gap:"20px"}},$=function(e){var n=e.id,t=e.onModalClose,s=e.onUpdate,l=(0,i.useState)(null),u=(0,r.Z)(l,2),p=u[0],x=u[1],m=(0,c.g)().contacts,h=m.find((function(e){return e.id===n})),f=h.name,j=h.number,Z=(0,v.cI)({resolver:(0,C.X)(A),defaultValues:{name:f,number:j}}),y=Z.register,w=Z.formState.errors,S=Z.handleSubmit,q=Z.reset,I=(0,o.I0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(d.Z,{component:"form",sx:D.form,onSubmit:S((function(e){if(e.name===f&&e.number===j)return t();var r=m.find((function(n){return n.name===e.name}));if(r)return x(r.name);I((0,a.Tk)((0,b.Z)({id:n},e))),s(),q(),t()})),children:[z.map((function(e){var n=e.inputName,t=e.type,r=e.id;return(0,g.jsx)(F.W,{inputName:n,type:t,id:r,register:y,errors:w},r)})),(0,g.jsxs)(d.Z,{sx:D.btnList,children:[(0,g.jsx)(k.Z,{type:"submit",variant:"contained",children:"Update Contact"}),(0,g.jsx)(k.Z,{type:"button",variant:"outlined",onClick:function(){return t()},children:"Cancel"})]})]}),p&&(0,g.jsxs)(_,{onClose:function(){return x(null)},severity:"warning",variant:"filled",children:[p," is aready in contacts."]})]})},R={item:{padding:"10px",bgcolor:"primary.50",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"space-between"},itemContentWrap:{display:"flex",gap:"10px",alignItems:"center"},btnList:{display:"flex",gap:"5px",alignItems:"center"}},L=(0,i.memo)((function(e){var n=e.contact,t=(0,i.useState)(!1),s=(0,r.Z)(t,2),c=s[0],l=s[1],j=(0,i.useState)(!1),Z=(0,r.Z)(j,2),b=Z[0],v=Z[1],C=n.id,w=n.name,S=n.number,A=n.avatar,k=(0,o.I0)(),q=function(){return l(!c)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(d.Z,{component:"li",sx:R.item,children:[(0,g.jsxs)(d.Z,{sx:R.itemContentWrap,children:[(0,g.jsx)(u.Z,{alt:A.alt,src:A.src}),(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(p.Z,{children:w}),(0,g.jsx)(p.Z,{children:S})]})]}),(0,g.jsxs)(d.Z,{component:"ul",sx:R.btnList,children:[(0,g.jsx)(x.Z,{title:"Update contact",children:(0,g.jsx)(m.Z,{"aria-label":"update",onClick:q,children:(0,g.jsx)(h.Z,{})})}),(0,g.jsx)(x.Z,{title:"Dlete contact",children:(0,g.jsx)(m.Z,{"aria-label":"delete",onClick:function(){return k((0,a.GK)(C))},children:(0,g.jsx)(f.Z,{})})})]})]}),c&&(0,g.jsx)(y,{onModalClose:q,children:(0,g.jsx)($,{id:C,onModalClose:q,onUpdate:function(){return v(!0)}})}),b&&(0,g.jsx)(_,{onClose:function(){return v(!1)},severity:"success",variant:"filled",children:"The contact was successfully updated"})]})})),O=t(350),U={textAlign:"center",padding:"30px"},W=function(e){var n=e.children,t=e.color,r=void 0===t?"common.black":t;return(0,g.jsx)(p.Z,{component:"p",sx:(0,b.Z)((0,b.Z)({},U),{},{color:r}),children:n})},B=t(493),E={list:{display:"flex",flexDirection:"column",gap:"10px"}},P=function(){var e=(0,c.g)(),n=e.isLoading,t=e.error,r=e.contacts,s=(0,o.v9)(l.A),d=(0,o.I0)();(0,i.useEffect)((function(){d((0,a.yF)())}),[d]);var u=!n&&!t,p=!n&&t,x=u&&""===s&&0===r.length,m=u&&""!==s&&0===r.length,h=!t&&0!==r.length;return(0,g.jsxs)(g.Fragment,{children:[h&&(0,g.jsx)(B.Z,{sx:E.list,children:r.map((function(e){return(0,g.jsx)(L,{contact:e},e.id)}))}),n&&(0,g.jsx)(O.a,{}),p&&(0,g.jsx)(W,{children:"Sorry, something went wrong"}),x&&(0,g.jsx)(W,{children:"Your contacts list is empty"}),m&&(0,g.jsx)(W,{children:"Sorry, there is no such contacts"})]})},J=t(1273),K=t(8096),V=t(4925),X=t(635),G={wrap:{display:"flex",justifyContent:"center",alignItems:"center"}},H=(0,T.x0)(),Y=function(){var e=(0,o.I0)();return(0,g.jsx)(d.Z,{sx:G.wrap,children:(0,g.jsxs)(K.Z,{sx:{width:"350px"},children:[(0,g.jsx)(V.Z,{htmlFor:H,children:"Search"}),(0,g.jsx)(X.Z,{id:H,type:"text",label:"Search",onChange:function(n){return e((0,J.T)(n.currentTarget.value.trim()))}})]})})},Q=t(7750),ee={btn:{display:"flex",justifyContent:"center",alignItems:"center",padding:"14px",bgcolor:"primary.400",color:"common.white",position:"fixed",top:"87%",left:{xs:"80%",sm:"90%"},"&:hover":{bgcolor:"primary.300"}}},ne=function(e){var n=e.onOpenModal;return(0,g.jsx)(x.Z,{title:"Add contact",children:(0,g.jsx)(m.Z,{variant:"contained",sx:ee.btn,type:"button",onClick:n,children:(0,g.jsx)(Q.Z,{})})})},te=new RegExp("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"),re=w.Ry().shape({name:w.Z_().required("This field is required").matches(te,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:w.Z_().required("This field is required").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +")}),ie=t(4322),se=[{inputName:"name",type:"text",id:(0,T.x0)()},{inputName:"number",type:"tel",id:(0,T.x0)()}],ae={form:{display:"flex",flexDirection:"column",gap:"20px",width:{xs:"330px",sm:"400px"},margin:"0 auto"}},oe=(0,ie.O)(se),ce=function(e){var n=e.onModalClose,t=(0,i.useState)(null),s=(0,r.Z)(t,2),l=s[0],u=s[1],p=(0,v.cI)({resolver:(0,C.X)(re),defaultValues:oe}),x=p.register,m=p.formState.errors,h=p.handleSubmit,f=p.reset,j=(0,c.g)().contacts,Z=(0,o.I0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(d.Z,{component:"form",sx:ae.form,onSubmit:h((function(e){var t=j.find((function(n){return n.name===e.name}));if(t)return u(t.name);Z((0,a.uK)(e)),f(),n()})),children:[se.map((function(e){var n=e.inputName,t=e.type,r=e.id;return(0,g.jsx)(F.W,{inputName:n,type:t,id:r,register:x,errors:m},r)})),(0,g.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"center",gap:"20px"},children:[(0,g.jsx)(k.Z,{type:"submit",variant:"contained",children:"Add Contact"}),(0,g.jsx)(k.Z,{type:"button",variant:"outlined",onClick:function(){return n()},children:"Cancel"})]})]}),l&&(0,g.jsxs)(_,{onClose:function(){return u(null)},severity:"warning",variant:"filled",children:[l," is aready in contacts."]})]})},le=function(){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),t=n[0],a=n[1],o=function(){return a(!t)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s.$,{children:(0,g.jsx)(Y,{})}),(0,g.jsxs)(s.$,{children:[(0,g.jsx)(P,{}),(0,g.jsx)(ne,{onOpenModal:o})]}),t&&(0,g.jsx)(y,{onModalClose:o,children:(0,g.jsx)(ce,{onModalClose:o})})]})}}}]);
//# sourceMappingURL=952.4e8cade4.chunk.js.map